import{r as s,M as G,j as e,b as Y,P as U,c as K,d as X,L as q,A as B,m as E,e as J,a as Q}from"./index-CzJ0-bc4.js";import{S as ee,a as te}from"./Takeoff-Bd2kGLyj.js";class ne extends s.Component{getSnapshotBeforeUpdate(n){const r=this.props.childRef.current;if(r&&n.isPresent&&!this.props.isPresent){const o=r.offsetParent,i=o instanceof HTMLElement&&o.offsetWidth||0,l=this.props.sizeRef.current;l.height=r.offsetHeight||0,l.width=r.offsetWidth||0,l.top=r.offsetTop,l.left=r.offsetLeft,l.right=i-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function se({children:t,isPresent:n,anchorX:r}){const o=s.useId(),i=s.useRef(null),l=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=s.useContext(G);return s.useInsertionEffect(()=>{const{width:d,height:h,top:C,left:v,right:p}=l.current;if(n||!i.current||!d||!h)return;const j=r==="left"?`left: ${v}`:`right: ${p}`;i.current.dataset.motionPopId=o;const D=document.createElement("style");return a&&(D.nonce=a),document.head.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${j}px !important;
            top: ${C}px !important;
          }
        `),()=>{document.head.removeChild(D)}},[n]),e.jsx(ne,{isPresent:n,childRef:i,sizeRef:l,children:s.cloneElement(t,{ref:i})})}const re=({children:t,initial:n,isPresent:r,onExitComplete:o,custom:i,presenceAffectsLayout:l,mode:a,anchorX:d})=>{const h=Y(le),C=s.useId();let v=!0,p=s.useMemo(()=>(v=!1,{id:C,initial:n,isPresent:r,custom:i,onExitComplete:j=>{h.set(j,!0);for(const D of h.values())if(!D)return;o&&o()},register:j=>(h.set(j,!1),()=>h.delete(j))}),[r,h,o]);return l&&v&&(p={...p}),s.useMemo(()=>{h.forEach((j,D)=>h.set(D,!1))},[r]),s.useEffect(()=>{!r&&!h.size&&o&&o()},[r]),a==="popLayout"&&(t=e.jsx(se,{isPresent:r,anchorX:d,children:t})),e.jsx(U.Provider,{value:p,children:t})};function le(){return new Map}const T=t=>t.key||"";function P(t){const n=[];return s.Children.forEach(t,r=>{s.isValidElement(r)&&n.push(r)}),n}const z=({children:t,custom:n,initial:r=!0,onExitComplete:o,presenceAffectsLayout:i=!0,mode:l="sync",propagate:a=!1,anchorX:d="left"})=>{const[h,C]=K(a),v=s.useMemo(()=>P(t),[t]),p=a&&!h?[]:v.map(T),j=s.useRef(!0),D=s.useRef(v),b=Y(()=>new Map),[N,y]=s.useState(v),[u,f]=s.useState(v);X(()=>{j.current=!1,D.current=v;for(let g=0;g<u.length;g++){const c=T(u[g]);p.includes(c)?b.delete(c):b.get(c)!==!0&&b.set(c,!1)}},[u,p.length,p.join("-")]);const m=[];if(v!==N){let g=[...v];for(let c=0;c<u.length;c++){const w=u[c],M=T(w);p.includes(M)||(g.splice(c,0,w),m.push(w))}return l==="wait"&&m.length&&(g=m),f(P(g)),y(v),null}const{forceRender:x}=s.useContext(q);return e.jsx(e.Fragment,{children:u.map(g=>{const c=T(g),w=a&&!h?!1:v===u||p.includes(c),M=()=>{if(b.has(c))b.set(c,!0);else return;let L=!0;b.forEach(S=>{S||(L=!1)}),L&&(x?.(),f(D.current),a&&C?.(),o&&o())};return e.jsx(re,{isPresent:w,initial:!j.current||r?void 0:!1,custom:n,presenceAffectsLayout:i,mode:l,onExitComplete:w?void 0:M,anchorX:d,children:g},c)})})};function I({className:t,svg:n,label:r,value:o,onClick:i,name:l}){return e.jsx("button",{type:"button",onClick:i,className:`${t}`,children:e.jsxs("label",{className:"cursor-pointer grid grid-cols-[3rem_1fr] grid-rows-[auto_auto] justify-items-start rounded-sm border border-white p-1 gap-x-1 text-white",children:[e.jsx("div",{className:"w-[2.5rem] h-[2.5rem] col-start-1 row-start-1 row-span-2 self-center justify-self-center",children:n}),e.jsx("div",{className:"text-sm text-[#ffffff99]",children:r}),e.jsx("input",{readOnly:!0,className:"w-full text-xl row-start-2 pointer-events-none",tabIndex:-1,name:l,value:o})]})})}function oe(t,n){const r=new Date(t,n-1,1),o=new Date(t,n,0).getDate(),i=r.getDay(),l=[];let a=[],d=1;for(let h=0;h<i;h++)a.push(null);for(;d<=o;)a.push(d),d++,a.length===7&&(l.push(a),a=[]);if(a.length>0){for(;a.length<7;)a.push(null);l.push(a)}for(;l.length<6;)l.push([null,null,null,null,null,null,null]);return l}function ae({className:t,selectedDate:n,setDateSelect:r,setVisability:o}){const i=new Date,[l,a]=s.useState(i.getFullYear()),[d,h]=s.useState(i.getMonth()),[C,v]=s.useState([]);s.useEffect(()=>{v(oe(l,d+1))},[l,d]);const[p,j]=s.useState(null),D=u=>{j(u)},b=()=>{j(null)},N=u=>{const[f,m]=u.target.value.split("-").map(Number);a(f),h(m)},y=()=>{const u=[],f=new Date;for(let m=0;m<9;m++){const x=new Date(f.getFullYear(),f.getMonth()+m,1),g=x.toLocaleString("default",{month:"long"}),c=x.getFullYear();u.push(e.jsxs("option",{value:`${c}-${x.getMonth()}`,children:[g," ",c]},`${c}-${x.getMonth()}`))}return u};return e.jsxs("div",{className:`${t} flex flex-col gap-2 p-4 rounded-md text-black bg-white`,onMouseLeave:b,onClick:u=>{u.stopPropagation()},children:[e.jsx("div",{className:"flex justify-center items-center ",children:e.jsx("select",{value:`${l}-${d}`,onChange:N,className:"text-[24px] text-center text-(--primary) font-bold cursor-pointer outline-none",children:y()})}),e.jsxs("div",{className:"my-4 grid grid-cols-7 gap-2 text-center text-xs text-gray-500",children:[e.jsx("div",{children:"Sun"})," ",e.jsx("div",{children:"Mon"})," ",e.jsx("div",{children:"Tue"})," ",e.jsx("div",{children:"Wed"})," ",e.jsx("div",{children:"Thu"})," ",e.jsx("div",{children:"Fri"})," ",e.jsx("div",{children:"Sat"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:C.map((u,f)=>u.map((m,x)=>{let g=`
                            flex text-right p-2 w-[120px] h-[75px] rounded-[4px] transition-colors duration-100 ease-in-out box-border 
                        `;if(!m)return e.jsx("div",{className:g});const c=m?new Date(l,d,m):null,M=c&&n.selectedDeptDate&&c.getTime()===n.selectedDeptDate.getTime(),L=c&&p&&c.getTime()===p.getTime(),S=m!==null;return S&&c?(g+=" cursor-pointer text-black",M?g+=" bg-[var(--calendarSelected)] text-white":L&&n.selectedDeptDate&&c.getTime()!==n.selectedDeptDate.getTime()?g+=" bg-[var(--calendarBetween)]":g+=" bg-[var(--calendarUnselected)] hover:bg-[var(--calendarBetween)]"):g+=" bg-transparent pointer-events-none",e.jsx("div",{className:g.trim()+" shadow-sm/25",onClick:()=>S&&c&&r(c),onMouseEnter:()=>S&&c&&D(c),children:m},`week-${f}-day-${x}`)}))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(B,{className:"justify-right",hoverOverlayTheme:"light",onClick:()=>{o(!1)},children:"Continue"})})]})}function ie(t,n){const r=new Date(t,n-1,1),o=new Date(t,n,0).getDate(),i=r.getDay(),l=[];let a=[],d=1;for(let h=0;h<i;h++)a.push(null);for(;d<=o;)a.push(d),d++,a.length===7&&(l.push(a),a=[]);if(a.length>0){for(;a.length<7;)a.push(null);l.push(a)}for(;l.length<6;)l.push([null,null,null,null,null,null,null]);return l}function ce({className:t,selectedDates:n,setDateSelect:r,setVisability:o}){const i=new Date,[l,a]=s.useState(i.getFullYear()),[d,h]=s.useState(i.getMonth()),[C,v]=s.useState([]);s.useEffect(()=>{v(ie(l,d+1))},[l,d]);const[p,j]=s.useState(null),D=f=>{j(f)},b=()=>{j(null)},N=f=>{if(!f)return!1;const{selectedDeptDate:m,selectedRetDate:x}=n;if(m&&x){const g=Math.min(m.getTime(),x.getTime()),c=Math.max(m.getTime(),x.getTime());return f.getTime()>g&&f.getTime()<c}else if(m&&p){if(p.getTime()===m.getTime())return!1;const g=Math.min(m.getTime(),p.getTime()),c=Math.max(m.getTime(),p.getTime());return f.getTime()>g&&f.getTime()<c}return!1},y=f=>{const[m,x]=f.target.value.split("-").map(Number);a(m),h(x)},u=()=>{const f=[],m=new Date;for(let x=0;x<9;x++){const g=new Date(m.getFullYear(),m.getMonth()+x,1),c=g.toLocaleString("default",{month:"long"}),w=g.getFullYear();f.push(e.jsxs("option",{value:`${w}-${g.getMonth()}`,children:[c," ",w]},`${w}-${g.getMonth()}`))}return f};return e.jsxs("div",{className:`${t} flex flex-col gap-2 p-4 rounded-md text-black bg-white`,onMouseLeave:b,onClick:f=>{f.stopPropagation()},children:[e.jsx("div",{className:"flex justify-center items-center",children:e.jsx("select",{value:`${l}-${d}`,onChange:y,className:"text-[24px] text-center text-(--primary) font-bold cursor-pointer outline-none",children:u()})}),e.jsxs("div",{className:"my-4 grid grid-cols-7 gap-2 text-center text-xs text-gray-500",children:[e.jsx("div",{children:"Sun"})," ",e.jsx("div",{children:"Mon"})," ",e.jsx("div",{children:"Tue"})," ",e.jsx("div",{children:"Wed"})," ",e.jsx("div",{children:"Thu"})," ",e.jsx("div",{children:"Fri"})," ",e.jsx("div",{children:"Sat"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:C.map((f,m)=>f.map((x,g)=>{let c=`
                            flex text-right p-2 w-[120px] h-[75px] rounded-[4px] transition-colors duration-100 ease-in-out box-border 
                        `;if(!x)return e.jsx("div",{className:c});const w=x?new Date(l,d,x):null,M=w&&n.selectedDeptDate&&w.getTime()===n.selectedDeptDate.getTime(),L=w&&n.selectedRetDate&&w.getTime()===n.selectedRetDate.getTime(),S=M||L,Z=w&&p&&w.getTime()===p.getTime(),V=N(w),k=x!==null;return k&&w?(c+=" cursor-pointer text-black",S?c+=" bg-[var(--calendarSelected)] text-white":V||Z&&n.selectedDeptDate&&!n.selectedRetDate&&w.getTime()!==n.selectedDeptDate.getTime()?c+=" bg-[var(--calendarBetween)]":c+=" bg-[var(--calendarUnselected)] hover:bg-[var(--calendarBetween)]"):c+=" bg-transparent pointer-events-none",e.jsx("div",{className:c.trim()+" shadow-sm/25",onClick:()=>k&&w&&r(w),onMouseEnter:()=>k&&w&&D(w),children:x},`week-${m}-day-${g}`)}))}),e.jsx("div",{className:"flex justify-end",children:e.jsx(B,{className:"justify-right",hoverOverlayTheme:"light",onClick:()=>{o(!1)},children:"Continue"})})]})}const _=s.createContext(null),$=()=>{const t=s.useContext(_);if(!t)throw new Error("useDropdownContext must be used within a DropdownProvider");return t};function de({dropdownMenuRef:t,dropdownButtonRef:n,className:r,children:o}){return s.useEffect(()=>{function i(){const l=t.current;if(!l)return;const a=n.current;if(!a)return;const d=l.getBoundingClientRect(),h=a.getBoundingClientRect(),C=window.innerWidth,v=window.innerHeight;let p=h.left+h.width/2-d.width/2,j=h.bottom;p=Math.min(Math.max(0,p),C-d.width-8),j=Math.min(Math.max(0,j),v-d.height-8),l.style.left=`${p}px`,l.style.top=`${j}px`}return i(),window.addEventListener("resize",i),window.addEventListener("scroll",i),()=>{window.removeEventListener("resize",i),window.removeEventListener("scroll",i)}},[n,t]),e.jsx(E.div,{ref:t,variants:{hidden:{opacity:0,y:"0.3rem"},visible:{opacity:1,y:"0.75rem"}},initial:"hidden",animate:"visible",exit:"hidden",className:`${r} absolute z-50 left-1/2 top-1/2`,children:o})}function H({id:t,buttonContent:n,buttonClass:r,itemList:o,menuClass:i,hoverOverlayTheme:l}){const a=s.useRef(null),d=s.useRef(null),{activeButtonId:h,setActiveButtonId:C}=$();return s.useEffect(()=>{function v(p){d.current&&!d.current.contains(p.target)&&a.current&&!a.current.contains(p.target)&&h===t&&C(null)}return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[d,h,C,t]),e.jsxs(e.Fragment,{children:[e.jsxs("button",{ref:a,type:"button",onClick:()=>{C(h!==t?t:null)},className:`relative cursor-pointer ${r}`,children:[n,l?e.jsx(E.div,{variants:{default:{opacity:0},hover:{opacity:.16}},initial:"default",whileHover:h===t?"default":"hover",animate:"default",className:`absolute z-30 top-0 left-0 w-full h-full rounded-[inherit] ${l==="light"?"bg-white":"bg-black"}`}):null]}),e.jsx(z,{children:h===t&&e.jsx(de,{dropdownMenuRef:d,dropdownButtonRef:a,className:i,children:o})})]})}const ue=t=>s.createElement("svg",{id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 255 255",style:{enableBackground:"new 0 0 255 255"},xmlSpace:"preserve",fill:"currentColor",...t},s.createElement("g",null,s.createElement("g",{id:"arrow-drop-down"},s.createElement("polygon",{points:"0,63.75 127.5,191.25 255,63.75"}))));function W({className:t,id:n,svg:r,label:o,name:i,value:l,destDictionary:a}){const{activeButtonId:d}=$();return e.jsxs("label",{className:`${t} w-full h-full grid grid-cols-[3rem_1fr_3rem] grid-rows-[auto_auto] justify-items-start rounded-sm border border-white p-1 gap-x-1 text-white`,children:[e.jsx("div",{className:"w-[2.5rem] h-[2.5rem] col-start-1 row-start-1 row-span-2 self-center justify-self-center",children:r}),e.jsx("div",{className:"text-sm text-[#ffffff99]",children:o}),e.jsx("div",{className:"text-xl row-start-2",children:l}),e.jsx("input",{readOnly:!0,className:"hidden",name:i,value:a[l]}),e.jsx(E.div,{variants:{normal:{rotate:0},active:{rotate:180}},animate:d===n?"active":"normal",transition:{type:"tween",duration:.2},className:" w-5 h-5 self-center justify-self-center col-start-3 row-start-1 row-span-2",children:e.jsx(ue,{})})]})}function O({className:t,content:n,onClick:r}){const{setActiveButtonId:o}=$();return e.jsx("div",{onClick:()=>{o(null),r()},className:`${t} text-center p-1 cursor-default`,children:n})}function he({children:t}){const[n,r]=s.useState(null);return e.jsx(_.Provider,{value:{activeButtonId:n,setActiveButtonId:r},children:t})}const fe=t=>s.createElement("svg",{viewBox:"5 5 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},s.createElement("path",{d:"M6 12L18 12",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),me=t=>s.createElement("svg",{fill:"currentColor",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 45.402 45.402",xmlSpace:"preserve",...t},s.createElement("g",null,s.createElement("path",{d:"M41.267,18.557H26.832V4.134C26.832,1.851,24.99,0,22.707,0c-2.283,0-4.124,1.851-4.124,4.135v14.432H4.141 c-2.283,0-4.139,1.851-4.138,4.135c-0.001,1.141,0.46,2.187,1.207,2.934c0.748,0.749,1.78,1.222,2.92,1.222h14.453V41.27 c0,1.142,0.453,2.176,1.201,2.922c0.748,0.748,1.777,1.211,2.919,1.211c2.282,0,4.129-1.851,4.129-4.133V26.857h14.435 c2.283,0,4.134-1.867,4.133-4.15C45.399,20.425,43.548,18.557,41.267,18.557z"})));function pe({className:t,svg:n,label:r}){const[o,i]=s.useState(1);function l(a){const d=a.target.value;Number(d[1])>0?i(Number(d[1])):i(Number(d[0]))}return e.jsxs("label",{className:`${t} cursor-text grid grid-cols-[3rem_1fr_3rem_3rem] grid-rows-[auto_auto] justify-items-start rounded-sm border border-white p-1 gap-x-1 text-white`,children:[e.jsx("div",{className:"w-[2.5rem] h-[2.5rem] col-start-1 row-start-1 row-span-2 self-center justify-self-center",children:n}),e.jsx("div",{className:"text-sm text-[#ffffff99]",children:r}),e.jsxs("div",{className:"text-xl row-start-2 px-1",children:[e.jsx("input",{required:!0,type:"number",min:1,max:9,className:"w-4 pointer-events-none",name:"numPassengers",value:o,onChange:l}),e.jsx("span",{children:"Passengers"})]}),e.jsx(F,{onClick:()=>i(a=>Math.min(a+1,6)),children:e.jsx(me,{})}),e.jsx(F,{onClick:()=>i(a=>Math.max(a-1,1)),children:e.jsx(fe,{})})]})}function F({children:t,onClick:n}){const[r,o]=s.useState(!1);return e.jsxs("button",{type:"button",onMouseDown:()=>{o(!0)},onMouseUp:()=>{o(!1)},onClick:n,className:"cursor-pointer relative rounded-sm p-2 w-8 h-8 border border-white justify-self-center self-center row-span-2 text-3xl",children:[e.jsx(E.div,{variants:{default:{opacity:0},hover:{opacity:.16},active:{opacity:.22}},initial:"default",whileHover:r?"active":"hover",animate:r?"active":"default",className:"absolute z-30 top-0 left-0 w-full h-full rounded-[inherit] bg-white"}),t]})}const A=t=>s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t},s.createElement("path",{d:"M12 14C11.7167 14 11.4793 13.904 11.288 13.712C11.096 13.5207 11 13.2833 11 13C11 12.7167 11.096 12.479 11.288 12.287C11.4793 12.0957 11.7167 12 12 12C12.2833 12 12.521 12.0957 12.713 12.287C12.9043 12.479 13 12.7167 13 13C13 13.2833 12.9043 13.5207 12.713 13.712C12.521 13.904 12.2833 14 12 14ZM8 14C7.71667 14 7.479 13.904 7.287 13.712C7.09567 13.5207 7 13.2833 7 13C7 12.7167 7.09567 12.479 7.287 12.287C7.479 12.0957 7.71667 12 8 12C8.28333 12 8.521 12.0957 8.713 12.287C8.90433 12.479 9 12.7167 9 13C9 13.2833 8.90433 13.5207 8.713 13.712C8.521 13.904 8.28333 14 8 14ZM16 14C15.7167 14 15.4793 13.904 15.288 13.712C15.096 13.5207 15 13.2833 15 13C15 12.7167 15.096 12.479 15.288 12.287C15.4793 12.0957 15.7167 12 16 12C16.2833 12 16.5207 12.0957 16.712 12.287C16.904 12.479 17 12.7167 17 13C17 13.2833 16.904 13.5207 16.712 13.712C16.5207 13.904 16.2833 14 16 14ZM12 18C11.7167 18 11.4793 17.904 11.288 17.712C11.096 17.5207 11 17.2833 11 17C11 16.7167 11.096 16.4793 11.288 16.288C11.4793 16.096 11.7167 16 12 16C12.2833 16 12.521 16.096 12.713 16.288C12.9043 16.4793 13 16.7167 13 17C13 17.2833 12.9043 17.5207 12.713 17.712C12.521 17.904 12.2833 18 12 18ZM8 18C7.71667 18 7.479 17.904 7.287 17.712C7.09567 17.5207 7 17.2833 7 17C7 16.7167 7.09567 16.4793 7.287 16.288C7.479 16.096 7.71667 16 8 16C8.28333 16 8.521 16.096 8.713 16.288C8.90433 16.4793 9 16.7167 9 17C9 17.2833 8.90433 17.5207 8.713 17.712C8.521 17.904 8.28333 18 8 18ZM16 18C15.7167 18 15.4793 17.904 15.288 17.712C15.096 17.5207 15 17.2833 15 17C15 16.7167 15.096 16.4793 15.288 16.288C15.4793 16.096 15.7167 16 16 16C16.2833 16 16.5207 16.096 16.712 16.288C16.904 16.4793 17 16.7167 17 17C17 17.2833 16.904 17.5207 16.712 17.712C16.5207 17.904 16.2833 18 16 18ZM5 22C4.45 22 3.979 21.8043 3.587 21.413C3.19567 21.021 3 20.55 3 20L3 6C3 5.45 3.19567 4.97933 3.587 4.588C3.979 4.196 4.45 4 5 4L6 4L6 2L8 2L8 4L16 4L16 2L18 2L18 4L19 4C19.55 4 20.021 4.196 20.413 4.588C20.8043 4.97933 21 5.45 21 6L21 20C21 20.55 20.8043 21.021 20.413 21.413C20.021 21.8043 19.55 22 19 22L5 22ZM5 20L19 20L19 10L5 10L5 20Z"})),ge=t=>s.createElement("svg",{viewBox:"0 0 30 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},s.createElement("path",{d:"M15 15.4688C18.605 15.4688 21.5273 12.5464 21.5273 8.94141C21.5273 5.33645 18.605 2.41406 15 2.41406C11.395 2.41406 8.47266 5.33645 8.47266 8.94141C8.47266 12.5464 11.395 15.4688 15 15.4688Z",stroke:"white",strokeWidth:3}),s.createElement("path",{d:"M28.207 33.5859C28.2039 30.0842 26.8115 26.7267 24.3354 24.2506C21.8592 21.7745 18.5018 20.382 15 20.3789C11.4973 20.3789 8.13802 21.7704 5.66122 24.2472C3.18442 26.724 1.79297 30.0832 1.79297 33.5859H28.207Z",stroke:"white",strokeWidth:3})),xe=(t,n)=>{t&&n(r=>{const{selectedDeptDate:o}=r;return o?{selectedDeptDate:t}:{selectedDeptDate:t}})},ve=(t,n)=>{t&&n(r=>{const{selectedDeptDate:o,selectedRetDate:i}=r;return!o&&!i||o&&i?{selectedDeptDate:t,selectedRetDate:null}:o&&!i?t.getTime()<o.getTime()?{selectedDeptDate:t,selectedRetDate:o}:t.getTime()===o.getTime()?{selectedDeptDate:t,selectedRetDate:null}:{...r,selectedRetDate:t}:{selectedDeptDate:t,selectedRetDate:null}})};function R(t){if(!t)return"";const n=(t.getMonth()+1).toString().padStart(2,"0"),r=t.getDate().toString().padStart(2,"0");return`${t.getFullYear()}-${n}-${r}`}function we({isReturn:t,setIsReturn:n,className:r}){return e.jsxs("label",{className:`flex items-center justify-center gap-2 ${r}`,children:[e.jsx("button",{type:"button",onClick:()=>{n(o=>!o)},className:"border p-1 self-center rounded-sm cursor-pointer",children:e.jsxs("div",{className:"grid grid-cols-2 bg-[#3D3F69] rounded-[2px]",children:[e.jsx("input",{readOnly:!0,type:"text",name:"isReturn",className:"hidden",value:t.toString()}),e.jsx(E.div,{layout:!0,transition:{duration:.2},className:`w-6 h-6 rounded-[2px] bg-[#B1B2C3] ${t?"col-start-2":"col-start-1"}`})]})}),e.jsx("div",{className:"text-2xl min-w-[8rem] select-none",children:t?"Return":"One way"})]})}const De=function(){const n=J(),r=["Wollongong (WOL)","Sydney (SYD)","Melbourne (MEL)","Adelaide (ADL)","Darwin (DRW)","Hobart (HBA)","Perth (PER)","Brisbane (BNE)"],o={"Wollongong (WOL)":"WOL","Sydney (SYD)":"SYD","Melbourne (MEL)":"MEL","Adelaide (ADL)":"ADL","Darwin (DRW)":"DRW","Hobart (HBA)":"HBA","Perth (PER)":"PER","Brisbane (BNE)":"BNE"},i="flex flex-col w-[10rem] border border-white rounded-sm bg-(--primary) rounded-md shadow-md overflow-hidden",[l,a]=s.useState("Sydney (SYD)"),[d,h]=s.useState("Brisbane (BNE)"),[C,v]=s.useState(!1),[p,j]=s.useState({selectedDeptDate:null}),[D,b]=s.useState({selectedDeptDate:null,selectedRetDate:null}),[N,y]=s.useState(!1);return s.useEffect(()=>{const u=f=>{f.key==="Escape"&&N&&y(!1)};return N&&document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[N,y]),e.jsxs(he,{children:[e.jsx(z,{children:N&&e.jsx(E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{y(!1)},className:"fixed inset-0 z-10 bg-black/50 flex items-center justify-center",children:C?e.jsx(ce,{selectedDates:D,setDateSelect:u=>ve(u,b),setVisability:y,className:"absolute z-100 shadow-lg/25"}):e.jsx(ae,{selectedDate:p,setDateSelect:u=>xe(u,j),setVisability:y,className:"absolute z-100 shadow-lg/25"})})}),e.jsxs("form",{onSubmit:async u=>{u.preventDefault();const f=Object.fromEntries(new FormData(u.currentTarget).entries());if(!C&&!f.deptDate){alert("Please select a departure date");return}else if(C&&(!f.deptDate||!f.retDate)){alert("Please select a departure date and a return date");return}const m=await Q.post("/api/flights",f),x={from:f.from.toString(),to:f.to.toString(),date:f.deptDate.toString()};m.status===200&&n({to:"/booking/search",search:x})},method:"post",action:"/api/flights",className:`${N?"pointer-events-none":""} grid grid-cols-2 grid-rows-3 gap-6 text-white bg-(--primary) w-[70%] p-6 min-w-[860px] rounded-3xl shadow-md/25`,children:[e.jsx(H,{id:"fly-from",buttonContent:e.jsx(W,{svg:e.jsx(ee,{}),id:"fly-from",label:"Fly From",name:"from",value:l,destDictionary:o}),hoverOverlayTheme:"light",itemList:r.map(u=>{if(d!==u)return e.jsx(O,{className:"hover:bg-[#464870]",onClick:()=>{a(u)},content:u},u)}),menuClass:i}),e.jsx(H,{id:"fly-to",buttonContent:e.jsx(W,{svg:e.jsx(te,{}),id:"fly-to",label:"Fly to",name:"to",value:d,destDictionary:o}),hoverOverlayTheme:"light",itemList:r.map(u=>{if(l!==u)return e.jsx(O,{className:"hover:bg-[#464870]",onClick:()=>{h(u)},content:u},u)}),menuClass:i}),e.jsx(I,{className:C?"":"col-span-2",name:"deptDate",svg:e.jsx(A,{}),label:"Departure Date",value:C?R(D.selectedDeptDate)||"":R(p.selectedDeptDate)||"",onClick:()=>{y(!0)}}),C&&e.jsx(I,{svg:e.jsx(A,{}),name:"retDate",label:"Return Date",value:R(D.selectedRetDate)||"",onClick:()=>{y(!0)}}),e.jsxs("div",{className:"flex justify-between w-full gap-10 col-span-2",children:[e.jsx(pe,{className:"flex-2",svg:e.jsx(ge,{className:"w-full h-full"}),label:"Total passengers"}),e.jsx(we,{className:"flex-2",isReturn:C,setIsReturn:v}),e.jsx(B,{className:"self-center flex-1",hoverOverlayTheme:"light",children:"Search"})]})]})]})};export{De as component};
